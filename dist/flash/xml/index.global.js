"use strict";(()=>{var Y=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var L=E(T=>{"use strict";var Z=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Oe=Z+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",W="["+Z+"]["+Oe+"]*",Se=new RegExp("^"+W+"$"),Me=function(t,e){let n=[],r=e.exec(t);for(;r;){let s=[];s.startIndex=e.lastIndex-r[0].length;let i=r.length;for(let l=0;l<i;l++)s.push(r[l]);n.push(s),r=e.exec(t)}return n},Ce=function(t){let e=Se.exec(t);return!(e===null||typeof e>"u")};T.isExist=function(t){return typeof t<"u"};T.isEmptyObject=function(t){return Object.keys(t).length===0};T.merge=function(t,e,n){if(e){let r=Object.keys(e),s=r.length;for(let i=0;i<s;i++)n==="strict"?t[r[i]]=[e[r[i]]]:t[r[i]]=e[r[i]]}};T.getValue=function(t){return T.isExist(t)?t:""};T.isName=Ce;T.getAllMatches=Me;T.nameRegexp=W});var v=E(j=>{"use strict";var X=L(),Le={allowBooleanAttributes:!1,unpairedTags:[]};j.validate=function(t,e){e=Object.assign({},Le,e);let n=[],r=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=K(t,i),i.err)return i}else if(t[i]==="<"){let l=i;if(i++,t[i]==="!"){i=z(t,i);continue}else{let u=!1;t[i]==="/"&&(u=!0,i++);let o="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)o+=t[i];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),i--),!Re(o)){let d;return o.trim().length===0?d="Invalid space after '<'.":d="Tag '"+o+"' is an invalid name.",c("InvalidTag",d,p(t,i))}let a=Xe(t,i);if(a===!1)return c("InvalidAttr","Attributes for '"+o+"' have open quote.",p(t,i));let f=a.value;if(i=a.index,f[f.length-1]==="/"){let d=i-f.length;f=f.substring(0,f.length-1);let g=H(f,e);if(g===!0)r=!0;else return c(g.err.code,g.err.msg,p(t,d+g.err.line))}else if(u)if(a.tagClosed){if(f.trim().length>0)return c("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",p(t,l));if(n.length===0)return c("InvalidTag","Closing tag '"+o+"' has not been opened.",p(t,l));{let d=n.pop();if(o!==d.tagName){let g=p(t,d.tagStartPos);return c("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+o+"'.",p(t,l))}n.length==0&&(s=!0)}}else return c("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",p(t,i));else{let d=H(f,e);if(d!==!0)return c(d.err.code,d.err.msg,p(t,i-f.length+d.err.line));if(s===!0)return c("InvalidXml","Multiple possible root nodes found.",p(t,i));e.unpairedTags.indexOf(o)!==-1||n.push({tagName:o,tagStartPos:l}),r=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=z(t,i);continue}else if(t[i+1]==="?"){if(i=K(t,++i),i.err)return i}else break;else if(t[i]==="&"){let d=$e(t,i);if(d==-1)return c("InvalidChar","char '&' is not expected.",p(t,i));i=d}else if(s===!0&&!J(t[i]))return c("InvalidXml","Extra text at the end",p(t,i));t[i]==="<"&&i--}}else{if(J(t[i]))continue;return c("InvalidChar","char '"+t[i]+"' is not expected.",p(t,i))}if(r){if(n.length==1)return c("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",p(t,n[0].tagStartPos));if(n.length>0)return c("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return c("InvalidXml","Start tag expected.",1);return!0};function J(t){return t===" "||t==="	"||t===`
`||t==="\r"}function K(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return c("InvalidXml","XML declaration allowed only at the start of the document.",p(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function z(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Pe='"',xe="'";function Xe(t,e){let n="",r="",s=!1;for(;e<t.length;e++){if(t[e]===Pe||t[e]===xe)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){s=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:s}}var ve=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function H(t,e){let n=X.getAllMatches(t,ve),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return c("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",M(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return c("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",M(n[s]));if(n[s][3]===void 0&&!e.allowBooleanAttributes)return c("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",M(n[s]));let i=n[s][2];if(!Fe(i))return c("InvalidAttr","Attribute '"+i+"' is an invalid name.",M(n[s]));if(!r.hasOwnProperty(i))r[i]=1;else return c("InvalidAttr","Attribute '"+i+"' is repeated.",M(n[s]))}return!0}function _e(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function $e(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,_e(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function c(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function Fe(t){return X.isName(t)}function Re(t){return X.isName(t)}function p(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function M(t){return t.startIndex+t[1].length}});var ee=E(_=>{"use strict";var D={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},Ve=function(t){return Object.assign({},D,t)};_.buildOptions=Ve;_.defaultOptions=D});var ne=E((kt,te)=>{"use strict";var $=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};te.exports=$});var re=E((Bt,se)=>{"use strict";var ke=L();function Be(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,s=!1,i=!1,l="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&Ye(t,e))e+=7,[entityName,val,e]=Ue(t,e+1),val.indexOf("&")===-1&&(n[We(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&Ge(t,e))e+=8;else if(s&&Qe(t,e))e+=8;else if(s&&Ze(t,e))e+=9;else if(qe)i=!0;else throw new Error("Invalid DOCTYPE");r++,l=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,r--):r--,r===0)break}else t[e]==="["?s=!0:l+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function Ue(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],s="";for(;e<t.length&&t[e]!==r;e++)s+=t[e];return[n,s,e]}function qe(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function Ye(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Ge(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Qe(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function Ze(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function We(t){if(ke.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}se.exports=Be});var oe=E((Ut,ie)=>{"use strict";var Je=/^[-+]?0x[a-fA-F0-9]+$/,Ke=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var ze={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function He(t,e={}){if(e=Object.assign({},ze,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&Je.test(n))return Number.parseInt(n,16);{let r=Ke.exec(n);if(r){let s=r[1],i=r[2],l=je(r[3]),u=r[4]||r[6];if(!e.leadingZeros&&i.length>0&&s&&n[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!s&&n[1]!==".")return t;{let o=Number(n),a=""+o;return a.search(/[eE]/)!==-1||u?e.eNotation?o:t:n.indexOf(".")!==-1?a==="0"&&l===""||a===l||s&&a==="-"+l?o:t:i?l===a||s+l===a?o:t:n===a||n===s+a?o:t}}else return t}}function je(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}ie.exports=He});var ae=E((qt,le)=>{"use strict";var ue=L(),C=ne(),De=re(),et=oe(),F=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=tt,this.parseXml=ot,this.parseTextData=nt,this.resolveNameSpace=st,this.buildAttributesMap=it,this.isItStopNode=ft,this.replaceEntitiesValue=lt,this.readStopNodeData=ct,this.saveTextToParentTag=at,this.addChild=ut}};function tt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function nt(t,e,n,r,s,i,l){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));let u=this.options.tagValueProcessor(e,t,n,s,i);return u==null?t:typeof u!=typeof t||u!==t?u:this.options.trimValues?V(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?V(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function st(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var rt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function it(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=ue.getAllMatches(t,rt),s=r.length,i={};for(let l=0;l<s;l++){let u=this.resolveNameSpace(r[l][1]),o=r[l][4],a=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),a==="__proto__"&&(a="#__proto__"),o!==void 0){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);let f=this.options.attributeValueProcessor(u,o,e);f==null?i[a]=o:typeof f!=typeof o||f!==o?i[a]=f:i[a]=V(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[a]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let l={};return l[this.options.attributesGroupName]=i,l}return i}}var ot=function(t){t=t.replace(/\r\n?/g,`
`);let e=new C("!xml"),n=e,r="",s="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let u=A(t,">",i,"Closing Tag is not closed."),o=t.substring(i+2,u).trim();if(this.options.removeNSPrefix){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(r=this.saveTextToParentTag(r,n,s));let a=s.substring(s.lastIndexOf(".")+1);if(o&&this.options.unpairedTags.indexOf(o)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let f=0;a&&this.options.unpairedTags.indexOf(a)!==-1?(f=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=s.lastIndexOf("."),s=s.substring(0,f),n=this.tagsNodeStack.pop(),r="",i=u}else if(t[i+1]==="?"){let u=R(t,i,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){let o=new C(u.tagName);o.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(o[":@"]=this.buildAttributesMap(u.tagExp,s,u.tagName)),this.addChild(n,o,s)}i=u.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let u=A(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let o=t.substring(i+4,u-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}i=u}else if(t.substr(i+1,2)==="!D"){let u=De(t,i);this.docTypeEntities=u.entities,i=u.i}else if(t.substr(i+1,2)==="!["){let u=A(t,"]]>",i,"CDATA is not closed.")-2,o=t.substring(i+9,u);r=this.saveTextToParentTag(r,n,s);let a=this.parseTextData(o,n.tagname,s,!0,!1,!0,!0);a==null&&(a=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):n.add(this.options.textNodeName,a),i=u+2}else{let u=R(t,i,this.options.removeNSPrefix),o=u.tagName,a=u.rawTagName,f=u.tagExp,d=u.attrExpPresent,g=u.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1));let N=n;if(N&&this.options.unpairedTags.indexOf(N.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),o!==e.tagname&&(s+=s?"."+o:o),this.isItStopNode(this.options.stopNodes,s,o)){let h="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),i=u.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)i=u.closeIndex;else{let y=this.readStopNodeData(t,a,g+1);if(!y)throw new Error(`Unexpected end of ${a}`);i=y.i,h=y.tagContent}let O=new C(o);o!==f&&d&&(O[":@"]=this.buildAttributesMap(f,s,o)),h&&(h=this.parseTextData(h,o,s,!0,d,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),O.add(this.options.textNodeName,h),this.addChild(n,O,s)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let h=new C(o);o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),s=s.substr(0,s.lastIndexOf("."))}else{let h=new C(o);this.tagsNodeStack.push(n),o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),n=h}r="",i=g}}else r+=t[i];return e.child};function ut(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var lt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function at(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function ft(t,e,n){let r="*."+n;for(let s in t){let i=t[s];if(r===i||e===i)return!0}return!1}function dt(t,e,n=">"){let r,s="";for(let i=e;i<t.length;i++){let l=t[i];if(r)l===r&&(r="");else if(l==='"'||l==="'")r=l;else if(l===n[0])if(n[1]){if(t[i+1]===n[1])return{data:s,index:i}}else return{data:s,index:i};else l==="	"&&(l=" ");s+=l}}function A(t,e,n,r){let s=t.indexOf(e,n);if(s===-1)throw new Error(r);return s+e.length-1}function R(t,e,n,r=">"){let s=dt(t,e+1,r);if(!s)return;let i=s.data,l=s.index,u=i.search(/\s/),o=i,a=!0;u!==-1&&(o=i.substring(0,u),i=i.substring(u+1).trimStart());let f=o;if(n){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1),a=o!==s.data.substr(d+1))}return{tagName:o,tagExp:i,closeIndex:l,attrExpPresent:a,rawTagName:f}}function ct(t,e,n){let r=n,s=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let i=A(t,">",n,`${e} is not closed`);if(t.substring(n+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(r,n),i};n=i}else if(t[n+1]==="?")n=A(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=A(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=A(t,"]]>",n,"StopNode is not closed.")-2;else{let i=R(t,n,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,n=i.closeIndex)}}function V(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:et(t,n)}else return ue.isExist(t)?t:""}le.exports=F});var ce=E(de=>{"use strict";function ht(t,e){return fe(t,e)}function fe(t,e,n){let r,s={};for(let i=0;i<t.length;i++){let l=t[i],u=gt(l),o="";if(n===void 0?o=u:o=n+"."+u,u===e.textNodeName)r===void 0?r=l[u]:r+=""+l[u];else{if(u===void 0)continue;if(l[u]){let a=fe(l[u],e,o),f=Nt(a,e);l[":@"]?pt(a,l[":@"],o,e):Object.keys(a).length===1&&a[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?a=a[e.textNodeName]:Object.keys(a).length===0&&(e.alwaysCreateTextNode?a[e.textNodeName]="":a=""),s[u]!==void 0&&s.hasOwnProperty(u)?(Array.isArray(s[u])||(s[u]=[s[u]]),s[u].push(a)):e.isArray(u,o,f)?s[u]=[a]:s[u]=a}}}return typeof r=="string"?r.length>0&&(s[e.textNodeName]=r):r!==void 0&&(s[e.textNodeName]=r),s}function gt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function pt(t,e,n,r){if(e){let s=Object.keys(e),i=s.length;for(let l=0;l<i;l++){let u=s[l];r.isArray(u,n+"."+u,!0,!0)?t[u]=[e[u]]:t[u]=e[u]}}}function Nt(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}de.prettify=ht});var ge=E((Gt,he)=>{"use strict";var{buildOptions:Et}=ee(),Tt=ae(),{prettify:yt}=ce(),bt=v(),k=class{constructor(e){this.externalEntities={},this.options=Et(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let i=bt.validate(e,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let r=new Tt(this.options);r.addExternalEntities(this.externalEntities);let s=r.parseXml(e);return this.options.preserveOrder||s===void 0?s:yt(s,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};he.exports=k});var ye=E((Qt,Te)=>{"use strict";var At=`
`;function mt(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=At),Ne(t,e,"",n)}function Ne(t,e,n,r){let s="",i=!1;for(let l=0;l<t.length;l++){let u=t[l],o=wt(u);if(o===void 0)continue;let a="";if(n.length===0?a=o:a=`${n}.${o}`,o===e.textNodeName){let h=u[o];It(a,e)||(h=e.tagValueProcessor(o,h),h=Ee(h,e)),i&&(s+=r),s+=h,i=!1;continue}else if(o===e.cdataPropName){i&&(s+=r),s+=`<![CDATA[${u[o][0][e.textNodeName]}]]>`,i=!1;continue}else if(o===e.commentPropName){s+=r+`<!--${u[o][0][e.textNodeName]}-->`,i=!0;continue}else if(o[0]==="?"){let h=pe(u[":@"],e),O=o==="?xml"?"":r,y=u[o][0][e.textNodeName];y=y.length!==0?" "+y:"",s+=O+`<${o}${y}${h}?>`,i=!0;continue}let f=r;f!==""&&(f+=e.indentBy);let d=pe(u[":@"],e),g=r+`<${o}${d}`,N=Ne(u[o],e,a,f);e.unpairedTags.indexOf(o)!==-1?e.suppressUnpairedNode?s+=g+">":s+=g+"/>":(!N||N.length===0)&&e.suppressEmptyNode?s+=g+"/>":N&&N.endsWith(">")?s+=g+`>${N}${r}</${o}>`:(s+=g+">",N&&r!==""&&(N.includes("/>")||N.includes("</"))?s+=r+e.indentBy+N+r:s+=N,s+=`</${o}>`),i=!0}return s}function wt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function pe(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let s=e.attributeValueProcessor(r,t[r]);s=Ee(s,e),s===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${s}"`}return n}function It(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function Ee(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}Te.exports=mt});var Ae=E((Zt,be)=>{"use strict";var Ot=ye(),St={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(t){this.options=Object.assign({},St,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Lt),this.processTextOrObjNode=Mt,this.options.format?(this.indentate=Ct,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(t){return this.options.preserveOrder?Ot(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};b.prototype.j2x=function(t,e){let n="",r="";for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s))if(typeof t[s]>"u")this.isAttribute(s)&&(r+="");else if(t[s]===null)this.isAttribute(s)?r+="":s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)r+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let i=this.isAttribute(s);if(i)n+=this.buildAttrPairStr(i,""+t[s]);else if(s===this.options.textNodeName){let l=this.options.tagValueProcessor(s,""+t[s]);r+=this.replaceEntitiesValue(l)}else r+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let i=t[s].length,l="";for(let u=0;u<i;u++){let o=t[s][u];typeof o>"u"||(o===null?s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof o=="object"?this.options.oneListGroup?l+=this.j2x(o,e+1).val:l+=this.processTextOrObjNode(o,s,e):l+=this.buildTextValNode(o,s,"",e))}this.options.oneListGroup&&(l=this.buildObjectNode(l,s,"",e)),r+=l}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(t[s]),l=i.length;for(let u=0;u<l;u++)n+=this.buildAttrPairStr(i[u],""+t[s][i[u]])}else r+=this.processTextOrObjNode(t[s],s,e);return{attrStr:n,val:r}};b.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Mt(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}b.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",s=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+i+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+i+this.tagEndChar+t+this.indentate(r)+s}};b.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};b.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+s+"</"+e+this.tagEndChar}};b.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Ct(t){return this.options.indentBy.repeat(t)}function Lt(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}be.exports=b});var we=E((Wt,me)=>{"use strict";var Pt=v(),xt=ge(),Xt=Ae();me.exports={XMLParser:xt,XMLValidator:Pt,XMLBuilder:Xt}});var G="unsure",Ie=t=>Reflect.has(globalThis,t),S=(t,e)=>Ie(t)&&(G=e);S("self","webworker"),S("WorkerGlobalScope","worker"),S("module","node"),S("process","node"),S("window","web");var Q=G;var P=class t{static self=this;self=t;ignoreComments=!0;ignoreProcessingInstructions=!0;ignoreWhitespace=!0;prettyIndent=2;prettyPrinting=!0;defaultSettings(){return new this.self}};var x=class{static ELEMENT_NODE=1;static TEXT_NODE=3;static ENTITY_REFERENCE_NODE=5;static PROCESSING_INSTRUCTION_NODE=7;static DOCUMENT_NODE=9;static DOCUMENT_FRAGMENT_NODE=11},I=class t{attributes={};get childNodes(){return this.#e}#e=this.nodeType==3?void 0:[];get firstChild(){return this.childNodes?.[0]}get lastChild(){return this.childNodes?.[this.childNodes.length-1]||null}get localName(){return this.#r}#r="";withLocalName(e){if(this.#r)throw new Error("Cannot change local name, this is Internal.");return this.#r=e,this}get namespaceURI(){return this.prefix==null?"":this.prefix}get nextSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)+1]||null}get nodeName(){return this.nodeType==1?this.localName:null}get nodeType(){return this.#n}#n=1;get nodeValue(){return this.#n==3?this.#s:null}#s=null;set nodeValue(e){if(this.#n==1)throw new Error("Invalid node type");this.#s=e}get parentNode(){return this.#t}#t=null;get prefix(){return this.nodeName?.split(":")[0]}get previousSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)-1]}constructor(e,n){this.#n=e,this.#s=n||null}appendChild(e){if(this.nodeType==3)throw new Error("Invalid node type");this.#e==null&&(this.#e=[]),this.#e.push(e);let n=e.#t;n!=this&&(n?.#i(e),e.#t=this)}#i(e){let n=this.#e?.indexOf(e)||-1;n!=-1&&this.#e?.splice(n,1)}cloneNode(e){let n=new t(this.nodeType,this.#s);if(e&&this.#e!=null)for(let r of this.#e)n.appendChild(r.cloneNode(e));return n}getNamespaceForPrefix(e){if(e=="")return this.namespaceURI;let n=this;for(;n!=null;){if(n.prefix==e)return n.namespaceURI;n=n.parentNode}return null}hasChildNodes(){return this.#e!=null}insertBefore(e,n){if(this.nodeType==3)throw new Error("Invalid node type");if(this.#e==null&&(this.#e=[]),n==null)this.appendChild(e);else{if(this.#e.indexOf(n)==-1)throw new Error("Invalid node");this.#e.splice(this.#e.indexOf(n),0,e)}}removeNode(){if(this.#t==null)throw new Error("Invalid node");if(this.#t.#e?.splice(this.#t.#e.indexOf(this),1),this.#t=null,this.#e)for(let e of this.#e)e.removeNode()}toString(){let e="";if(this.nodeType==3)return e+=this.nodeValue;if(e+="<"+this.nodeName,this.nodeType==1&&this.attributes!=null)for(let n of Object.entries(this.attributes))e+=` ${n[0]}="${n[1]}"`;if(this.#e==null)return e+=" />";e+=">";for(let n of this.#e)e+=n.toString();return e+="</"+this.nodeName+">",e}},B=class t{static SYSTEM(e){return`SYSTEM "${e}"`}SYSTEM=t.SYSTEM;static PUBLIC(e,n){return`PUBLIC "${e}" "${n}"`}PUBLIC=t.PUBLIC;static INTERNAL(e){return`[
${e.join(`
`)}
]`}INTERNAL=t.INTERNAL;static#e=[["&lt;","<"],["&gt;",">"],["&amp;","&"],["&apos;","'"],["&quot;",'"']];static parseEntity(e){return this.#e.find(n=>n[0]==e)?.[1]}parsenEntity=t.parseEntity;static getEntity(e){return this.#e.find(n=>n[1]==e)?.[0]}getEntity=t.getEntity;static DTDMixedSelect=class extends Array{constructor(n){super(n.length),this.fill(void 0),this.map((r,s)=>n[s])}toString(){return this.join("|")}};DTDMixedSelect=t.DTDMixedSelect;static makeMixedSelect(e){return new this.DTDMixedSelect(e)}makeMixedSelect=t.makeMixedSelect;static makeElement(e,n,r=!0){return n=="EMPTY"?r=!0:n=="#PCDATA"?r=!1:Array.isArray(n)&&(r=!0),n=n.toString(),`<!ELEMENT ${e} ${r?`(${n})`:n}>`}makeElement=t.makeElement;static makeAttribute(e,n,r,s,i=!1,l=!1,u=!1){let o=`<!ATTLIST ${e} ${n} ${r}`;return i&&(o+=" #REQUIRED"),l&&(o+=" #IMPLIED"),u&&(o+=" #FIXED"),r=="IDREFS"||r=="NMTOKENS"?(o+=" (",o+=s.toString(),o+=")"):o+=` ${s}`,o+=">",o}makeAttribute=t.makeAttribute;static makeEntity(e,n,r){return`<!ENTITY ${e} ${r} "${n}">`}makeEntity=t.makeEntity;static makeCDATA(e){return`<![CDATA[${e}]]`}makeCDATA=t.makeCDATA},U=class extends I{docTypeDecl=null;idMap=new Map;ignoreWhite=!1;xmlDecl=null;constructor(e=null){super(x.DOCUMENT_NODE,e)}createElement(e){return new I(1).withLocalName(e)}createTextNode(e){return new I(3,e)}parseXML(e,n=1,r="UTF-8",s="no",i="data",l,u=!0){u||=!1;let o=[n,r,s,i,l];u&&this.#s(e,...o),Q=="node"?this.#e(e,...o):this.#r(e,...o)}#e(e,...n){try{}catch(u){throw new Error(u+"Require is not defined!")}let{XMLParser:r,XMLBuilder:s,XMLValidator:i}=we();new r().parse(e)}#r(e,...n){let r=this.#n(...n),i=new DOMParser().parseFromString(r+e,"text/xml")}#n(e=1,n="UTF-8",r="no",s="data",i){return`<?xml version="${e}" encoding="${n}" standalone="${r}"?>
<!DOCTYPE ${s} ${i}>`}#s(e,...n){}toString(){return"@ TODO"}},w=class{constructor(...e){}length(){}},m=class{constructor(...e){}length(){}},q=class t{static AS3_XMLModule=this;AS3_XMLModule=t;XMLDocument=U;XMLNode=I;XMLNodeType=x;XMLListClass=m;XMLClass=w;DTDMaker=B;XMLDefaultsClass=P;XMLDefaults=new P;static isXMLName(e){return!!e?.match?.(/^[a-zA-Z0-9_-]+$/)}isXMLName=t.isXMLName;static XML(e){if(e instanceof w)return e;if(e instanceof m&&e.length()!=1)throw new Error("XMLList must contain only one property of type XML");if(typeof e=="boolean"||typeof e=="number")return new w(e.toString());if(typeof e=="string")return new w(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XML=t.XML;static XMLList(e){if(e instanceof m)return e;if(typeof e=="boolean"||typeof e=="number")return new m(e.toString());if(typeof e=="string")return new m(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XMLList=t.XMLList},vt=new q;globalThis?.window&&(globalThis.window.ASXML=vt);})();
//# sourceMappingURL=index.global.js.map