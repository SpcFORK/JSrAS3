"use strict";var p=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var m=(n,e)=>{for(var t in e)p(n,t,{get:e[t],enumerable:!0})},X=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of L(e))!A.call(n,r)&&r!==t&&p(n,r,{get:()=>e[r],enumerable:!(i=D(e,r))||i.enumerable});return n};var w=n=>X(p({},"__esModule",{value:!0}),n);var O={};m(O,{AS3_XML:()=>a,AS3_XMLList:()=>o,ASXML:()=>S});module.exports=w(O);var T="unsure",I=n=>Reflect.has(globalThis,n),h=(n,e)=>I(n)&&(T=e);h("self","webworker"),h("WorkerGlobalScope","worker"),h("module","node"),h("process","node"),h("window","web");var M=T;var N=class n{static self=this;self=n;ignoreComments=!0;ignoreProcessingInstructions=!0;ignoreWhitespace=!0;prettyIndent=2;prettyPrinting=!0;defaultSettings(){return new this.self}};var c=class{static ELEMENT_NODE=1;static TEXT_NODE=3;static ENTITY_REFERENCE_NODE=5;static PROCESSING_INSTRUCTION_NODE=7;static DOCUMENT_NODE=9;static DOCUMENT_FRAGMENT_NODE=11},u=class n{attributes={};get childNodes(){return this.#e}#e=this.nodeType==3?void 0:[];get firstChild(){return this.childNodes?.[0]}get lastChild(){return this.childNodes?.[this.childNodes.length-1]||null}get localName(){return this.#r}#r="";withLocalName(e){if(this.#r)throw new Error("Cannot change local name, this is Internal.");return this.#r=e,this}get namespaceURI(){return this.prefix==null?"":this.prefix}get nextSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)+1]||null}get nodeName(){return this.nodeType==1?this.localName:null}get nodeType(){return this.#n}#n=1;get nodeValue(){return this.#n==3?this.#i:null}#i=null;set nodeValue(e){if(this.#n==1)throw new Error("Invalid node type");this.#i=e}get parentNode(){return this.#t}#t=null;get prefix(){return this.nodeName?.split(":")[0]}get previousSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)-1]}constructor(e,t){this.#n=e,this.#i=t||null}appendChild(e){if(this.nodeType==3)throw new Error("Invalid node type");this.#e==null&&(this.#e=[]),this.#e.push(e);let t=e.#t;t!=this&&(t?.#s(e),e.#t=this)}#s(e){let t=this.#e?.indexOf(e)||-1;t!=-1&&this.#e?.splice(t,1)}cloneNode(e){let t=new n(this.nodeType,this.#i);if(e&&this.#e!=null)for(let i of this.#e)t.appendChild(i.cloneNode(e));return t}getNamespaceForPrefix(e){if(e=="")return this.namespaceURI;let t=this;for(;t!=null;){if(t.prefix==e)return t.namespaceURI;t=t.parentNode}return null}hasChildNodes(){return this.#e!=null}insertBefore(e,t){if(this.nodeType==3)throw new Error("Invalid node type");if(this.#e==null&&(this.#e=[]),t==null)this.appendChild(e);else{if(this.#e.indexOf(t)==-1)throw new Error("Invalid node");this.#e.splice(this.#e.indexOf(t),0,e)}}removeNode(){if(this.#t==null)throw new Error("Invalid node");if(this.#t.#e?.splice(this.#t.#e.indexOf(this),1),this.#t=null,this.#e)for(let e of this.#e)e.removeNode()}toString(){let e="";if(this.nodeType==3)return e+=this.nodeValue;if(e+="<"+this.nodeName,this.nodeType==1&&this.attributes!=null)for(let t of Object.entries(this.attributes))e+=` ${t[0]}="${t[1]}"`;if(this.#e==null)return e+=" />";e+=">";for(let t of this.#e)e+=t.toString();return e+="</"+this.nodeName+">",e}},g=class n{static SYSTEM(e){return`SYSTEM "${e}"`}SYSTEM=n.SYSTEM;static PUBLIC(e,t){return`PUBLIC "${e}" "${t}"`}PUBLIC=n.PUBLIC;static INTERNAL(e){return`[
${e.join(`
`)}
]`}INTERNAL=n.INTERNAL;static#e=[["&lt;","<"],["&gt;",">"],["&amp;","&"],["&apos;","'"],["&quot;",'"']];static parseEntity(e){return this.#e.find(t=>t[0]==e)?.[1]}parsenEntity=n.parseEntity;static getEntity(e){return this.#e.find(t=>t[1]==e)?.[0]}getEntity=n.getEntity;static DTDMixedSelect=class extends Array{constructor(t){super(t.length),this.fill(void 0),this.map((i,r)=>t[r])}toString(){return this.join("|")}};DTDMixedSelect=n.DTDMixedSelect;static makeMixedSelect(e){return new this.DTDMixedSelect(e)}makeMixedSelect=n.makeMixedSelect;static makeElement(e,t,i=!0){return t=="EMPTY"?i=!0:t=="#PCDATA"?i=!1:Array.isArray(t)&&(i=!0),t=t.toString(),`<!ELEMENT ${e} ${i?`(${t})`:t}>`}makeElement=n.makeElement;static makeAttribute(e,t,i,r,l=!1,f=!1,d=!1){let s=`<!ATTLIST ${e} ${t} ${i}`;return l&&(s+=" #REQUIRED"),f&&(s+=" #IMPLIED"),d&&(s+=" #FIXED"),i=="IDREFS"||i=="NMTOKENS"?(s+=" (",s+=r.toString(),s+=")"):s+=` ${r}`,s+=">",s}makeAttribute=n.makeAttribute;static makeEntity(e,t,i){return`<!ENTITY ${e} ${i} "${t}">`}makeEntity=n.makeEntity;static makeCDATA(e){return`<![CDATA[${e}]]`}makeCDATA=n.makeCDATA},y=class extends u{docTypeDecl=null;idMap=new Map;ignoreWhite=!1;xmlDecl=null;constructor(e=null){super(c.DOCUMENT_NODE,e)}createElement(e){return new u(1).withLocalName(e)}createTextNode(e){return new u(3,e)}parseXML(e,t=1,i="UTF-8",r="no",l="data",f,d=!0){d||=!1;let s=[t,i,r,l,f];d&&this.#i(e,...s),M=="node"?this.#e(e,...s):this.#r(e,...s)}#e(e,...t){try{require}catch(d){throw new Error(d+"Require is not defined!")}let{XMLParser:i,XMLBuilder:r,XMLValidator:l}=require("fast-xml-parser");new i().parse(e)}#r(e,...t){let i=this.#n(...t),l=new DOMParser().parseFromString(i+e,"text/xml")}#n(e=1,t="UTF-8",i="no",r="data",l){return`<?xml version="${e}" encoding="${t}" standalone="${i}"?>
<!DOCTYPE ${r} ${l}>`}#i(e,...t){}toString(){return"@ TODO"}},a=class{constructor(...e){}length(){}},o=class{constructor(...e){}length(){}},E=class n{static AS3_XMLModule=this;AS3_XMLModule=n;XMLDocument=y;XMLNode=u;XMLNodeType=c;XMLListClass=o;XMLClass=a;DTDMaker=g;XMLDefaultsClass=N;XMLDefaults=new N;static isXMLName(e){return!!e?.match?.(/^[a-zA-Z0-9_-]+$/)}isXMLName=n.isXMLName;static XML(e){if(e instanceof a)return e;if(e instanceof o&&e.length()!=1)throw new Error("XMLList must contain only one property of type XML");if(typeof e=="boolean"||typeof e=="number")return new a(e.toString());if(typeof e=="string")return new a(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XML=n.XML;static XMLList(e){if(e instanceof o)return e;if(typeof e=="boolean"||typeof e=="number")return new o(e.toString());if(typeof e=="string")return new o(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XMLList=n.XMLList},S=new E;globalThis?.window&&(globalThis.window.ASXML=S);
//# sourceMappingURL=index.js.map