"use strict";(()=>{var re=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var U=m(E=>{"use strict";var ae=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ge=ae+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",le="["+ae+"]["+Ge+"]*",Ye=new RegExp("^"+le+"$"),We=function(t,e){let n=[],r=e.exec(t);for(;r;){let s=[];s.startIndex=e.lastIndex-r[0].length;let i=r.length;for(let l=0;l<i;l++)s.push(r[l]);n.push(s),r=e.exec(t)}return n},Qe=function(t){let e=Ye.exec(t);return!(e===null||typeof e>"u")};E.isExist=function(t){return typeof t<"u"};E.isEmptyObject=function(t){return Object.keys(t).length===0};E.merge=function(t,e,n){if(e){let r=Object.keys(e),s=r.length;for(let i=0;i<s;i++)n==="strict"?t[r[i]]=[e[r[i]]]:t[r[i]]=e[r[i]]}};E.getValue=function(t){return E.isExist(t)?t:""};E.isName=Qe;E.getAllMatches=We;E.nameRegexp=le});var J=m(he=>{"use strict";var Q=U(),Je={allowBooleanAttributes:!1,unpairedTags:[]};he.validate=function(t,e){e=Object.assign({},Je,e);let n=[],r=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=fe(t,i),i.err)return i}else if(t[i]==="<"){let l=i;if(i++,t[i]==="!"){i=de(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let o="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)o+=t[i];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),i--),!tt(o)){let d;return o.trim().length===0?d="Invalid space after '<'.":d="Tag '"+o+"' is an invalid name.",c("InvalidTag",d,g(t,i))}let u=ze(t,i);if(u===!1)return c("InvalidAttr","Attributes for '"+o+"' have open quote.",g(t,i));let f=u.value;if(i=u.index,f[f.length-1]==="/"){let d=i-f.length;f=f.substring(0,f.length-1);let p=ce(f,e);if(p===!0)r=!0;else return c(p.err.code,p.err.msg,g(t,d+p.err.line))}else if(a)if(u.tagClosed){if(f.trim().length>0)return c("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",g(t,l));if(n.length===0)return c("InvalidTag","Closing tag '"+o+"' has not been opened.",g(t,l));{let d=n.pop();if(o!==d.tagName){let p=g(t,d.tagStartPos);return c("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+o+"'.",g(t,l))}n.length==0&&(s=!0)}}else return c("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",g(t,i));else{let d=ce(f,e);if(d!==!0)return c(d.err.code,d.err.msg,g(t,i-f.length+d.err.line));if(s===!0)return c("InvalidXml","Multiple possible root nodes found.",g(t,i));e.unpairedTags.indexOf(o)!==-1||n.push({tagName:o,tagStartPos:l}),r=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=de(t,i);continue}else if(t[i+1]==="?"){if(i=fe(t,++i),i.err)return i}else break;else if(t[i]==="&"){let d=De(t,i);if(d==-1)return c("InvalidChar","char '&' is not expected.",g(t,i));i=d}else if(s===!0&&!ue(t[i]))return c("InvalidXml","Extra text at the end",g(t,i));t[i]==="<"&&i--}}else{if(ue(t[i]))continue;return c("InvalidChar","char '"+t[i]+"' is not expected.",g(t,i))}if(r){if(n.length==1)return c("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(t,n[0].tagStartPos));if(n.length>0)return c("InvalidXml","Invalid '"+JSON.stringify(n.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return c("InvalidXml","Start tag expected.",1);return!0};function ue(t){return t===" "||t==="	"||t===`
`||t==="\r"}function fe(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let r=t.substr(n,e-n);if(e>5&&r==="xml")return c("InvalidXml","XML declaration allowed only at the start of the document.",g(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function de(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Ze='"',Ke="'";function ze(t,e){let n="",r="",s=!1;for(;e<t.length;e++){if(t[e]===Ze||t[e]===Ke)r===""?r=t[e]:r!==t[e]||(r="");else if(t[e]===">"&&r===""){s=!0;break}n+=t[e]}return r!==""?!1:{value:n,index:e,tagClosed:s}}var He=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ce(t,e){let n=Q.getAllMatches(t,He),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return c("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",R(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return c("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",R(n[s]));if(n[s][3]===void 0&&!e.allowBooleanAttributes)return c("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",R(n[s]));let i=n[s][2];if(!et(i))return c("InvalidAttr","Attribute '"+i+"' is an invalid name.",R(n[s]));if(!r.hasOwnProperty(i))r[i]=1;else return c("InvalidAttr","Attribute '"+i+"' is repeated.",R(n[s]))}return!0}function je(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function De(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,je(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function c(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function et(t){return Q.isName(t)}function tt(t){return Q.isName(t)}function g(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function R(t){return t.startIndex+t[1].length}});var ge=m(Z=>{"use strict";var pe={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},nt=function(t){return Object.assign({},pe,t)};Z.buildOptions=nt;Z.defaultOptions=pe});var me=m((tr,Ne)=>{"use strict";var K=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};Ne.exports=K});var Te=m((nr,Ee)=>{"use strict";var rt=U();function st(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let r=1,s=!1,i=!1,l="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&at(t,e))e+=7,[entityName,val,e]=it(t,e+1),val.indexOf("&")===-1&&(n[dt(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&lt(t,e))e+=8;else if(s&&ut(t,e))e+=8;else if(s&&ft(t,e))e+=9;else if(ot)i=!0;else throw new Error("Invalid DOCTYPE");r++,l=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,r--):r--,r===0)break}else t[e]==="["?s=!0:l+=t[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function it(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=t[e++],s="";for(;e<t.length&&t[e]!==r;e++)s+=t[e];return[n,s,e]}function ot(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function at(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function lt(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function ut(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function ft(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function dt(t){if(rt.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}Ee.exports=st});var ye=m((rr,be)=>{"use strict";var ct=/^[-+]?0x[a-fA-F0-9]+$/,ht=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var pt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function gt(t,e={}){if(e=Object.assign({},pt,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&ct.test(n))return Number.parseInt(n,16);{let r=ht.exec(n);if(r){let s=r[1],i=r[2],l=Nt(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&i.length>0&&s&&n[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!s&&n[1]!==".")return t;{let o=Number(n),u=""+o;return u.search(/[eE]/)!==-1||a?e.eNotation?o:t:n.indexOf(".")!==-1?u==="0"&&l===""||u===l||s&&u==="-"+l?o:t:i?l===u||s+l===u?o:t:n===u||n===s+u?o:t}}else return t}}function Nt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}be.exports=gt});var we=m((sr,Se)=>{"use strict";var Ae=U(),V=me(),mt=Te(),Et=ye(),z=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=Tt,this.parseXml=wt,this.parseTextData=bt,this.resolveNameSpace=yt,this.buildAttributesMap=St,this.isItStopNode=Lt,this.replaceEntitiesValue=It,this.readStopNodeData=vt,this.saveTextToParentTag=xt,this.addChild=Ct}};function Tt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function bt(t,e,n,r,s,i,l){if(t!==void 0&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,n,s,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?j(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?j(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function yt(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var At=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function St(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=Ae.getAllMatches(t,At),s=r.length,i={};for(let l=0;l<s;l++){let a=this.resolveNameSpace(r[l][1]),o=r[l][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),o!==void 0){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);let f=this.options.attributeValueProcessor(a,o,e);f==null?i[u]=o:typeof f!=typeof o||f!==o?i[u]=f:i[u]=j(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[u]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let l={};return l[this.options.attributesGroupName]=i,l}return i}}var wt=function(t){t=t.replace(/\r\n?/g,`
`);let e=new V("!xml"),n=e,r="",s="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let a=A(t,">",i,"Closing Tag is not closed."),o=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(r=this.saveTextToParentTag(r,n,s));let u=s.substring(s.lastIndexOf(".")+1);if(o&&this.options.unpairedTags.indexOf(o)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let f=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(f=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=s.lastIndexOf("."),s=s.substring(0,f),n=this.tagsNodeStack.pop(),r="",i=a}else if(t[i+1]==="?"){let a=H(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let o=new V(a.tagName);o.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(o[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(n,o,s)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let a=A(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let o=t.substring(i+4,a-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}i=a}else if(t.substr(i+1,2)==="!D"){let a=mt(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){let a=A(t,"]]>",i,"CDATA is not closed.")-2,o=t.substring(i+9,a);r=this.saveTextToParentTag(r,n,s);let u=this.parseTextData(o,n.tagname,s,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):n.add(this.options.textNodeName,u),i=a+2}else{let a=H(t,i,this.options.removeNSPrefix),o=a.tagName,u=a.rawTagName,f=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1));let N=n;if(N&&this.options.unpairedTags.indexOf(N.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),o!==e.tagname&&(s+=s?"."+o:o),this.isItStopNode(this.options.stopNodes,s,o)){let h="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)i=a.closeIndex;else{let T=this.readStopNodeData(t,u,p+1);if(!T)throw new Error(`Unexpected end of ${u}`);i=T.i,h=T.tagContent}let I=new V(o);o!==f&&d&&(I[":@"]=this.buildAttributesMap(f,s,o)),h&&(h=this.parseTextData(h,o,s,!0,d,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),I.add(this.options.textNodeName,h),this.addChild(n,I,s)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let h=new V(o);o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),s=s.substr(0,s.lastIndexOf("."))}else{let h=new V(o);this.tagsNodeStack.push(n),o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),n=h}r="",i=p}}else r+=t[i];return e.child};function Ct(t,e,n){let r=this.options.updateTag(e.tagname,n,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),t.addChild(e))}var It=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function xt(t,e,n,r){return t&&(r===void 0&&(r=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Lt(t,e,n){let r="*."+n;for(let s in t){let i=t[s];if(r===i||e===i)return!0}return!1}function Mt(t,e,n=">"){let r,s="";for(let i=e;i<t.length;i++){let l=t[i];if(r)l===r&&(r="");else if(l==='"'||l==="'")r=l;else if(l===n[0])if(n[1]){if(t[i+1]===n[1])return{data:s,index:i}}else return{data:s,index:i};else l==="	"&&(l=" ");s+=l}}function A(t,e,n,r){let s=t.indexOf(e,n);if(s===-1)throw new Error(r);return s+e.length-1}function H(t,e,n,r=">"){let s=Mt(t,e+1,r);if(!s)return;let i=s.data,l=s.index,a=i.search(/\s/),o=i,u=!0;a!==-1&&(o=i.substring(0,a),i=i.substring(a+1).trimStart());let f=o;if(n){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1),u=o!==s.data.substr(d+1))}return{tagName:o,tagExp:i,closeIndex:l,attrExpPresent:u,rawTagName:f}}function vt(t,e,n){let r=n,s=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let i=A(t,">",n,`${e} is not closed`);if(t.substring(n+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(r,n),i};n=i}else if(t[n+1]==="?")n=A(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=A(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=A(t,"]]>",n,"StopNode is not closed.")-2;else{let i=H(t,n,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,n=i.closeIndex)}}function j(t,e,n){if(e&&typeof t=="string"){let r=t.trim();return r==="true"?!0:r==="false"?!1:Et(t,n)}else return Ae.isExist(t)?t:""}Se.exports=z});var xe=m(Ie=>{"use strict";function Ot(t,e){return Ce(t,e)}function Ce(t,e,n){let r,s={};for(let i=0;i<t.length;i++){let l=t[i],a=_t(l),o="";if(n===void 0?o=a:o=n+"."+a,a===e.textNodeName)r===void 0?r=l[a]:r+=""+l[a];else{if(a===void 0)continue;if(l[a]){let u=Ce(l[a],e,o),f=Xt(u,e);l[":@"]?Pt(u,l[":@"],o,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(u)):e.isArray(a,o,f)?s[a]=[u]:s[a]=u}}}return typeof r=="string"?r.length>0&&(s[e.textNodeName]=r):r!==void 0&&(s[e.textNodeName]=r),s}function _t(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(r!==":@")return r}}function Pt(t,e,n,r){if(e){let s=Object.keys(e),i=s.length;for(let l=0;l<i;l++){let a=s[l];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Xt(t,e){let{textNodeName:n}=e,r=Object.keys(t).length;return!!(r===0||r===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}Ie.prettify=Ot});var Me=m((or,Le)=>{"use strict";var{buildOptions:kt}=ge(),Ft=we(),{prettify:$t}=xe(),Rt=J(),D=class{constructor(e){this.externalEntities={},this.options=kt(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let i=Rt.validate(e,n);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let r=new Ft(this.options);r.addExternalEntities(this.externalEntities);let s=r.parseXml(e);return this.options.preserveOrder||s===void 0?s:$t(s,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};Le.exports=D});var Xe=m((ar,Pe)=>{"use strict";var Vt=`
`;function Bt(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=Vt),Oe(t,e,"",n)}function Oe(t,e,n,r){let s="",i=!1;for(let l=0;l<t.length;l++){let a=t[l],o=Ut(a);if(o===void 0)continue;let u="";if(n.length===0?u=o:u=`${n}.${o}`,o===e.textNodeName){let h=a[o];qt(u,e)||(h=e.tagValueProcessor(o,h),h=_e(h,e)),i&&(s+=r),s+=h,i=!1;continue}else if(o===e.cdataPropName){i&&(s+=r),s+=`<![CDATA[${a[o][0][e.textNodeName]}]]>`,i=!1;continue}else if(o===e.commentPropName){s+=r+`<!--${a[o][0][e.textNodeName]}-->`,i=!0;continue}else if(o[0]==="?"){let h=ve(a[":@"],e),I=o==="?xml"?"":r,T=a[o][0][e.textNodeName];T=T.length!==0?" "+T:"",s+=I+`<${o}${T}${h}?>`,i=!0;continue}let f=r;f!==""&&(f+=e.indentBy);let d=ve(a[":@"],e),p=r+`<${o}${d}`,N=Oe(a[o],e,u,f);e.unpairedTags.indexOf(o)!==-1?e.suppressUnpairedNode?s+=p+">":s+=p+"/>":(!N||N.length===0)&&e.suppressEmptyNode?s+=p+"/>":N&&N.endsWith(">")?s+=p+`>${N}${r}</${o}>`:(s+=p+">",N&&r!==""&&(N.includes("/>")||N.includes("</"))?s+=r+e.indentBy+N+r:s+=N,s+=`</${o}>`),i=!0}return s}function Ut(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let r=e[n];if(t.hasOwnProperty(r)&&r!==":@")return r}}function ve(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let s=e.attributeValueProcessor(r,t[r]);s=_e(s,e),s===!0&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${s}"`}return n}function qt(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function _e(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let r=e.entities[n];t=t.replace(r.regex,r.val)}return t}Pe.exports=Bt});var Fe=m((lr,ke)=>{"use strict";var Gt=Xe(),Yt={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(t){this.options=Object.assign({},Yt,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Jt),this.processTextOrObjNode=Wt,this.options.format?(this.indentate=Qt,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(t){return this.options.preserveOrder?Gt(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};b.prototype.j2x=function(t,e){let n="",r="";for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s))if(typeof t[s]>"u")this.isAttribute(s)&&(r+="");else if(t[s]===null)this.isAttribute(s)?r+="":s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)r+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let i=this.isAttribute(s);if(i)n+=this.buildAttrPairStr(i,""+t[s]);else if(s===this.options.textNodeName){let l=this.options.tagValueProcessor(s,""+t[s]);r+=this.replaceEntitiesValue(l)}else r+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let i=t[s].length,l="";for(let a=0;a<i;a++){let o=t[s][a];typeof o>"u"||(o===null?s[0]==="?"?r+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof o=="object"?this.options.oneListGroup?l+=this.j2x(o,e+1).val:l+=this.processTextOrObjNode(o,s,e):l+=this.buildTextValNode(o,s,"",e))}this.options.oneListGroup&&(l=this.buildObjectNode(l,s,"",e)),r+=l}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(t[s]),l=i.length;for(let a=0;a<l;a++)n+=this.buildAttrPairStr(i[a],""+t[s][i[a]])}else r+=this.processTextOrObjNode(t[s],s,e);return{attrStr:n,val:r}};b.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Wt(t,e,n){let r=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}b.prototype.buildObjectNode=function(t,e,n,r){if(t==="")return e[0]==="?"?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",s=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(r)+"<"+e+n+i+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(r)+`<!--${t}-->`+this.newLine:this.indentate(r)+"<"+e+n+i+this.tagEndChar+t+this.indentate(r)+s}};b.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};b.prototype.buildTextValNode=function(t,e,n,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+s+"</"+e+this.tagEndChar}};b.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Qt(t){return this.options.indentBy.repeat(t)}function Jt(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}ke.exports=b});var Re=m((ur,$e)=>{"use strict";var Zt=J(),Kt=Me(),zt=Fe();$e.exports={XMLParser:Kt,XMLValidator:Zt,XMLBuilder:zt}});var B=class{listeners=new Map;addEventListener(e,n,r=!1,s=0,i=!1){this.listeners.has(e)||this.listeners.set(e,[]);let l=this.listeners.get(e);if(l){let a=l.findIndex(u=>u.priority<s),o={priority:s,listener:n,useCapture:r};i&&(o.listener=new WeakRef(n)),a===-1?l.push(o):l.splice(a,0,o)}}dispatchEvent(e){let n=this.listeners.get(e.type);if(n){for(let{listener:r}of n)if(!(r instanceof WeakRef))r(e);else{let s=r.deref();s&&s(e)}return!0}return!1}hasEventListener(e){return this.listeners.has(e)}removeEventListener(e,n,r=!1){let s=this.listeners.get(e),i=l=>l.listener instanceof WeakRef?l.listener.deref()!==n:l.listener!==n;s&&this.listeners.set(e,s.filter(l=>i(l)))}willTrigger(e){return this.hasEventListener(e)}};function Y(t,...e){if(typeof t!="string")throw new TypeError("command must be a string");let n=e.length===0?[""]:e.map(r=>{if(typeof r=="string"||typeof r=="number")return r.toString();throw new TypeError("args must be strings or numbers")});switch(t.toLowerCase()){case"fullscreen":document.documentElement.requestFullscreen();break;case"allowscale":Ve(n[0]==="true");break;case"quit":window.close();break;case"showmenu":Be(n[0]==="true");break;case"exec":break;case"trapallkeys":Ue(n[0]==="true");break;default:let r=new URL(window.location.href),s=new URLSearchParams(r.search);s.set("fscommand",t),s.set("fsargs",n.join(",")),r.search=s.toString(),window.location.href=r.toString();break}}var W=globalThis;function Ve(t){W.AS_allowscale=t}function Be(t){W.AS_showmenu=t;let e=new CustomEvent("AS_showmenu",{detail:t});globalThis.dispatchEvent(e)}function Ue(t){W.AS_trapallkeys=t;let e=new CustomEvent("AS_trapallkeys",{detail:t})}var x=class t{static currentDomain=new t;get parentDomain(){return this.#e}#e;#t=new Map;constructor(e,n){this.#e=e||t.currentDomain,t.currentDomain&&this!==t.currentDomain?this.#e.#t.set(n+"",this):this.#e=null}getDefinition(e){return this.#t.get(e)}hasDefinition(e){return this.#t.has(e)}};var L=class{};var M=class{};var v=class{};var O=class{};var y=class{static CLOSED;static CLOSING;static OPEN};var _=class extends B{#e;#t;#r;#s;#n;#i;constructor(e,n,r){super(),this.#o(e,n,r)}#o(e,n,r){this.#e=y.OPEN,this.#t=e,this.#r=new DataView(e,n,r),this.#s=n,this.#n=r,this.#i=!1}get state(){return this.#e}get buffer(){return this.#t}get view(){return this.#r}get byteOffset(){return this.#s}get byteLength(){return this.#n}get isClosed(){return this.#i}};var P=class{};var X=class{};var k=class{};var F=class{};var se=class{fxcommand=Y.bind(this);ApplicationDomain=x;Capabilities=L;IME=M;IMEConversionMode=v;LoaderContext=O;MessageChannel=_;MessageChannelState=y;Security=P;SecurityDomain=X;SecurityPanel=k;System=F};var ie="unsure",qe=t=>Reflect.has(globalThis,t),$=(t,e)=>qe(t)&&(ie=e);$("self","webworker"),$("WorkerGlobalScope","worker"),$("module","node"),$("process","node"),$("window","web");var oe=ie;var q=class t{static self=this;self=t;ignoreComments=!0;ignoreProcessingInstructions=!0;ignoreWhitespace=!0;prettyIndent=2;prettyPrinting=!0;defaultSettings(){return new this.self}};var G=class{static ELEMENT_NODE=1;static TEXT_NODE=3;static ENTITY_REFERENCE_NODE=5;static PROCESSING_INSTRUCTION_NODE=7;static DOCUMENT_NODE=9;static DOCUMENT_FRAGMENT_NODE=11},C=class t{attributes={};get childNodes(){return this.#e}#e=this.nodeType==3?void 0:[];get firstChild(){return this.childNodes?.[0]}get lastChild(){return this.childNodes?.[this.childNodes.length-1]||null}get localName(){return this.#t}#t="";withLocalName(e){if(this.#t)throw new Error("Cannot change local name, this is Internal.");return this.#t=e,this}get namespaceURI(){return this.prefix==null?"":this.prefix}get nextSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)+1]||null}get nodeName(){return this.nodeType==1?this.localName:null}get nodeType(){return this.#r}#r=1;get nodeValue(){return this.#r==3?this.#s:null}#s=null;set nodeValue(e){if(this.#r==1)throw new Error("Invalid node type");this.#s=e}get parentNode(){return this.#n}#n=null;get prefix(){return this.nodeName?.split(":")[0]}get previousSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)-1]}constructor(e,n){this.#r=e,this.#s=n||null}appendChild(e){if(this.nodeType==3)throw new Error("Invalid node type");this.#e==null&&(this.#e=[]),this.#e.push(e);let n=e.#n;n!=this&&(n?.#i(e),e.#n=this)}#i(e){let n=this.#e?.indexOf(e)||-1;n!=-1&&this.#e?.splice(n,1)}cloneNode(e){let n=new t(this.nodeType,this.#s);if(e&&this.#e!=null)for(let r of this.#e)n.appendChild(r.cloneNode(e));return n}getNamespaceForPrefix(e){if(e=="")return this.namespaceURI;let n=this;for(;n!=null;){if(n.prefix==e)return n.namespaceURI;n=n.parentNode}return null}hasChildNodes(){return this.#e!=null}insertBefore(e,n){if(this.nodeType==3)throw new Error("Invalid node type");if(this.#e==null&&(this.#e=[]),n==null)this.appendChild(e);else{if(this.#e.indexOf(n)==-1)throw new Error("Invalid node");this.#e.splice(this.#e.indexOf(n),0,e)}}removeNode(){if(this.#n==null)throw new Error("Invalid node");if(this.#n.#e?.splice(this.#n.#e.indexOf(this),1),this.#n=null,this.#e)for(let e of this.#e)e.removeNode()}toString(){let e="";if(this.nodeType==3)return e+=this.nodeValue;if(e+="<"+this.nodeName,this.nodeType==1&&this.attributes!=null)for(let n of Object.entries(this.attributes))e+=` ${n[0]}="${n[1]}"`;if(this.#e==null)return e+=" />";e+=">";for(let n of this.#e)e+=n.toString();return e+="</"+this.nodeName+">",e}},ee=class t{static SYSTEM(e){return`SYSTEM "${e}"`}SYSTEM=t.SYSTEM;static PUBLIC(e,n){return`PUBLIC "${e}" "${n}"`}PUBLIC=t.PUBLIC;static INTERNAL(e){return`[
${e.join(`
`)}
]`}INTERNAL=t.INTERNAL;static#e=[["&lt;","<"],["&gt;",">"],["&amp;","&"],["&apos;","'"],["&quot;",'"']];static parseEntity(e){return this.#e.find(n=>n[0]==e)?.[1]}parsenEntity=t.parseEntity;static getEntity(e){return this.#e.find(n=>n[1]==e)?.[0]}getEntity=t.getEntity;static DTDMixedSelect=class extends Array{constructor(n){super(n.length),this.fill(void 0),this.map((r,s)=>n[s])}toString(){return this.join("|")}};DTDMixedSelect=t.DTDMixedSelect;static makeMixedSelect(e){return new this.DTDMixedSelect(e)}makeMixedSelect=t.makeMixedSelect;static makeElement(e,n,r=!0){return n=="EMPTY"?r=!0:n=="#PCDATA"?r=!1:Array.isArray(n)&&(r=!0),n=n.toString(),`<!ELEMENT ${e} ${r?`(${n})`:n}>`}makeElement=t.makeElement;static makeAttribute(e,n,r,s,i=!1,l=!1,a=!1){let o=`<!ATTLIST ${e} ${n} ${r}`;return i&&(o+=" #REQUIRED"),l&&(o+=" #IMPLIED"),a&&(o+=" #FIXED"),r=="IDREFS"||r=="NMTOKENS"?(o+=" (",o+=s.toString(),o+=")"):o+=` ${s}`,o+=">",o}makeAttribute=t.makeAttribute;static makeEntity(e,n,r){return`<!ENTITY ${e} ${r} "${n}">`}makeEntity=t.makeEntity;static makeCDATA(e){return`<![CDATA[${e}]]`}makeCDATA=t.makeCDATA},te=class extends C{docTypeDecl=null;idMap=new Map;ignoreWhite=!1;xmlDecl=null;constructor(e=null){super(G.DOCUMENT_NODE,e)}createElement(e){return new C(1).withLocalName(e)}createTextNode(e){return new C(3,e)}parseXML(e,n=1,r="UTF-8",s="no",i="data",l,a=!0){a||=!1;let o=[n,r,s,i,l];a&&this.#s(e,...o),oe=="node"?this.#e(e,...o):this.#t(e,...o)}#e(e,...n){try{}catch(a){throw new Error(a+"Require is not defined!")}let{XMLParser:r,XMLBuilder:s,XMLValidator:i}=Re();new r().parse(e)}#t(e,...n){let r=this.#r(...n),i=new DOMParser().parseFromString(r+e,"text/xml")}#r(e=1,n="UTF-8",r="no",s="data",i){return`<?xml version="${e}" encoding="${n}" standalone="${r}"?>
<!DOCTYPE ${s} ${i}>`}#s(e,...n){}toString(){return"@ TODO"}},w=class{constructor(...e){}length(){}},S=class{constructor(...e){}length(){}},ne=class t{static AS3_XMLModule=this;AS3_XMLModule=t;XMLDocument=te;XMLNode=C;XMLNodeType=G;XMLListClass=S;XMLClass=w;DTDMaker=ee;XMLDefaultsClass=q;XMLDefaults=new q;static isXMLName(e){return!!e?.match?.(/^[a-zA-Z0-9_-]+$/)}isXMLName=t.isXMLName;static XML(e){if(e instanceof w)return e;if(e instanceof S&&e.length()!=1)throw new Error("XMLList must contain only one property of type XML");if(typeof e=="boolean"||typeof e=="number")return new w(e.toString());if(typeof e=="string")return new w(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XML=t.XML;static XMLList(e){if(e instanceof S)return e;if(typeof e=="boolean"||typeof e=="number")return new S(e.toString());if(typeof e=="string")return new S(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XMLList=t.XMLList},Ht=new ne;globalThis?.window&&(globalThis.window.ASXML=Ht);})();
//# sourceMappingURL=index.global.js.map