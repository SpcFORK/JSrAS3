"use strict";var a=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var h=(i,e)=>{for(var n in e)a(i,n,{get:e[n],enumerable:!0})},E=(i,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of u(e))!b.call(i,t)&&t!==n&&a(i,t,{get:()=>e[t],enumerable:!(s=v(e,t))||s.enumerable});return i};var d=i=>E(a({},"__esModule",{value:!0}),i);var g={};h(g,{AS_EventDispatcher:()=>f});module.exports=d(g);var f=class{listeners=new Map;addEventListener(e,n,s=!1,t=0,o=!1){this.listeners.has(e)||this.listeners.set(e,[]);let r=this.listeners.get(e);if(r){let p=r.findIndex(c=>c.priority<t),l={priority:t,listener:n,useCapture:s};o&&(l.listener=new WeakRef(n)),p===-1?r.push(l):r.splice(p,0,l)}}dispatchEvent(e){let n=this.listeners.get(e.type);if(n){for(let{listener:s}of n)if(!(s instanceof WeakRef))s(e);else{let t=s.deref();t&&t(e)}return!0}return!1}hasEventListener(e){return this.listeners.has(e)}removeEventListener(e,n,s=!1){let t=this.listeners.get(e),o=r=>r.listener instanceof WeakRef?r.listener.deref()!==n:r.listener!==n;t&&this.listeners.set(e,t.filter(r=>o(r)))}willTrigger(e){return this.hasEventListener(e)}};
//# sourceMappingURL=index.js.map