"use strict";var f=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var b=(r,e)=>{for(var s in e)f(r,s,{get:e[s],enumerable:!0})},p=(r,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of h(e))!L.call(r,t)&&t!==s&&f(r,t,{get:()=>e[t],enumerable:!(i=v(e,t))||i.enumerable});return r};var d=r=>p(f({},"__esModule",{value:!0}),r);var g={};b(g,{AS_EventDispatcher:()=>a});module.exports=d(g);var a=class{listeners=new Map;addEventListener(e,s,i=!1,t=0,o=!1){this.listeners.has(e)||this.listeners.set(e,[]);let n=this.listeners.get(e);if(n){let c=n.findIndex(u=>u.priority<t),l={priority:t,listener:s,useCapture:i};o&&(l.listener=new WeakRef(s)),c===-1?n.push(l):n.splice(c,0,l)}}dispatchEvent(e){let s=this.listeners.get(e.type);if(s){for(let{listener:i}of s)if(!(i instanceof WeakRef))i(e);else{let t=i.deref();t&&t(e)}return!0}return!1}hasEventListener(e){return this.listeners.has(e)}removeEventListener(e,s,i=!1){let t=this.listeners.get(e),o=n=>n.listener instanceof WeakRef?n.listener.deref()!==s:n.listener!==s;t&&this.listeners.set(e,t.filter(n=>o(n)))}willTrigger(e){return this.hasEventListener(e)}};
//# sourceMappingURL=EventDispatcher.js.map