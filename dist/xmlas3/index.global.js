"use strict";(()=>{var q=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var L=E(T=>{"use strict";var Q=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ie=Q+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Z="["+Q+"]["+Ie+"]*",Oe=new RegExp("^"+Z+"$"),Se=function(t,e){let n=[],i=e.exec(t);for(;i;){let s=[];s.startIndex=e.lastIndex-i[0].length;let r=i.length;for(let l=0;l<r;l++)s.push(i[l]);n.push(s),i=e.exec(t)}return n},Me=function(t){let e=Oe.exec(t);return!(e===null||typeof e>"u")};T.isExist=function(t){return typeof t<"u"};T.isEmptyObject=function(t){return Object.keys(t).length===0};T.merge=function(t,e,n){if(e){let i=Object.keys(e),s=i.length;for(let r=0;r<s;r++)n==="strict"?t[i[r]]=[e[i[r]]]:t[i[r]]=e[i[r]]}};T.getValue=function(t){return T.isExist(t)?t:""};T.isName=Me;T.getAllMatches=Se;T.nameRegexp=Z});var v=E(H=>{"use strict";var X=L(),Ce={allowBooleanAttributes:!1,unpairedTags:[]};H.validate=function(t,e){e=Object.assign({},Ce,e);let n=[],i=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let r=0;r<t.length;r++)if(t[r]==="<"&&t[r+1]==="?"){if(r+=2,r=J(t,r),r.err)return r}else if(t[r]==="<"){let l=r;if(r++,t[r]==="!"){r=K(t,r);continue}else{let u=!1;t[r]==="/"&&(u=!0,r++);let o="";for(;r<t.length&&t[r]!==">"&&t[r]!==" "&&t[r]!=="	"&&t[r]!==`
`&&t[r]!=="\r";r++)o+=t[r];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),r--),!Fe(o)){let d;return o.trim().length===0?d="Invalid space after '<'.":d="Tag '"+o+"' is an invalid name.",c("InvalidTag",d,p(t,r))}let a=xe(t,r);if(a===!1)return c("InvalidAttr","Attributes for '"+o+"' have open quote.",p(t,r));let f=a.value;if(r=a.index,f[f.length-1]==="/"){let d=r-f.length;f=f.substring(0,f.length-1);let g=z(f,e);if(g===!0)i=!0;else return c(g.err.code,g.err.msg,p(t,d+g.err.line))}else if(u)if(a.tagClosed){if(f.trim().length>0)return c("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",p(t,l));if(n.length===0)return c("InvalidTag","Closing tag '"+o+"' has not been opened.",p(t,l));{let d=n.pop();if(o!==d.tagName){let g=p(t,d.tagStartPos);return c("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+o+"'.",p(t,l))}n.length==0&&(s=!0)}}else return c("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",p(t,r));else{let d=z(f,e);if(d!==!0)return c(d.err.code,d.err.msg,p(t,r-f.length+d.err.line));if(s===!0)return c("InvalidXml","Multiple possible root nodes found.",p(t,r));e.unpairedTags.indexOf(o)!==-1||n.push({tagName:o,tagStartPos:l}),i=!0}for(r++;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="!"){r++,r=K(t,r);continue}else if(t[r+1]==="?"){if(r=J(t,++r),r.err)return r}else break;else if(t[r]==="&"){let d=_e(t,r);if(d==-1)return c("InvalidChar","char '&' is not expected.",p(t,r));r=d}else if(s===!0&&!W(t[r]))return c("InvalidXml","Extra text at the end",p(t,r));t[r]==="<"&&r--}}else{if(W(t[r]))continue;return c("InvalidChar","char '"+t[r]+"' is not expected.",p(t,r))}if(i){if(n.length==1)return c("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",p(t,n[0].tagStartPos));if(n.length>0)return c("InvalidXml","Invalid '"+JSON.stringify(n.map(r=>r.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return c("InvalidXml","Start tag expected.",1);return!0};function W(t){return t===" "||t==="	"||t===`
`||t==="\r"}function J(t,e){let n=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let i=t.substr(n,e-n);if(e>5&&i==="xml")return c("InvalidXml","XML declaration allowed only at the start of the document.",p(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function K(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let n=1;for(e+=8;e<t.length;e++)if(t[e]==="<")n++;else if(t[e]===">"&&(n--,n===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Le='"',Pe="'";function xe(t,e){let n="",i="",s=!1;for(;e<t.length;e++){if(t[e]===Le||t[e]===Pe)i===""?i=t[e]:i!==t[e]||(i="");else if(t[e]===">"&&i===""){s=!0;break}n+=t[e]}return i!==""?!1:{value:n,index:e,tagClosed:s}}var Xe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function z(t,e){let n=X.getAllMatches(t,Xe),i={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return c("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",M(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return c("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",M(n[s]));if(n[s][3]===void 0&&!e.allowBooleanAttributes)return c("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",M(n[s]));let r=n[s][2];if(!$e(r))return c("InvalidAttr","Attribute '"+r+"' is an invalid name.",M(n[s]));if(!i.hasOwnProperty(r))i[r]=1;else return c("InvalidAttr","Attribute '"+r+"' is repeated.",M(n[s]))}return!0}function ve(t,e){let n=/\d/;for(t[e]==="x"&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(n))break}return-1}function _e(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,ve(t,e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(t[e]===";")break;return-1}return e}function c(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function $e(t){return X.isName(t)}function Fe(t){return X.isName(t)}function p(t,e){let n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function M(t){return t.startIndex+t[1].length}});var D=E(_=>{"use strict";var j={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}},Re=function(t){return Object.assign({},j,t)};_.buildOptions=Re;_.defaultOptions=j});var te=E((Vt,ee)=>{"use strict";var $=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,n){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:n})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};ee.exports=$});var se=E((kt,ne)=>{"use strict";var Ve=L();function ke(t,e){let n={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let i=1,s=!1,r=!1,l="";for(;e<t.length;e++)if(t[e]==="<"&&!r){if(s&&qe(t,e))e+=7,[entityName,val,e]=Be(t,e+1),val.indexOf("&")===-1&&(n[Ze(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&Ye(t,e))e+=8;else if(s&&Ge(t,e))e+=8;else if(s&&Qe(t,e))e+=9;else if(Ue)r=!0;else throw new Error("Invalid DOCTYPE");i++,l=""}else if(t[e]===">"){if(r?t[e-1]==="-"&&t[e-2]==="-"&&(r=!1,i--):i--,i===0)break}else t[e]==="["?s=!0:l+=t[e];if(i!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:e}}function Be(t,e){let n="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)n+=t[e];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");let i=t[e++],s="";for(;e<t.length&&t[e]!==i;e++)s+=t[e];return[n,s,e]}function Ue(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function qe(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Ye(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Ge(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function Qe(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Ze(t){if(Ve.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}ne.exports=ke});var ie=E((Bt,re)=>{"use strict";var We=/^[-+]?0x[a-fA-F0-9]+$/,Je=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Ke={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ze(t,e={}){if(e=Object.assign({},Ke,e),!t||typeof t!="string")return t;let n=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(n))return t;if(e.hex&&We.test(n))return Number.parseInt(n,16);{let i=Je.exec(n);if(i){let s=i[1],r=i[2],l=He(i[3]),u=i[4]||i[6];if(!e.leadingZeros&&r.length>0&&s&&n[2]!==".")return t;if(!e.leadingZeros&&r.length>0&&!s&&n[1]!==".")return t;{let o=Number(n),a=""+o;return a.search(/[eE]/)!==-1||u?e.eNotation?o:t:n.indexOf(".")!==-1?a==="0"&&l===""||a===l||s&&a==="-"+l?o:t:r?l===a||s+l===a?o:t:n===a||n===s+a?o:t}}else return t}}function He(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}re.exports=ze});var le=E((Ut,ue)=>{"use strict";var oe=L(),C=te(),je=se(),De=ie(),F=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,i)=>String.fromCharCode(Number.parseInt(i,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,i)=>String.fromCharCode(Number.parseInt(i,16))}},this.addExternalEntities=et,this.parseXml=it,this.parseTextData=tt,this.resolveNameSpace=nt,this.buildAttributesMap=rt,this.isItStopNode=at,this.replaceEntitiesValue=ut,this.readStopNodeData=dt,this.saveTextToParentTag=lt,this.addChild=ot}};function et(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let i=e[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:t[i]}}}function tt(t,e,n,i,s,r,l){if(t!==void 0&&(this.options.trimValues&&!i&&(t=t.trim()),t.length>0)){l||(t=this.replaceEntitiesValue(t));let u=this.options.tagValueProcessor(e,t,n,s,r);return u==null?t:typeof u!=typeof t||u!==t?u:this.options.trimValues?V(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?V(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function nt(t){if(this.options.removeNSPrefix){let e=t.split(":"),n=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=n+e[1])}return t}var st=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function rt(t,e,n){if(!this.options.ignoreAttributes&&typeof t=="string"){let i=oe.getAllMatches(t,st),s=i.length,r={};for(let l=0;l<s;l++){let u=this.resolveNameSpace(i[l][1]),o=i[l][4],a=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),a==="__proto__"&&(a="#__proto__"),o!==void 0){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);let f=this.options.attributeValueProcessor(u,o,e);f==null?r[a]=o:typeof f!=typeof o||f!==o?r[a]=f:r[a]=V(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(r[a]=!0)}if(!Object.keys(r).length)return;if(this.options.attributesGroupName){let l={};return l[this.options.attributesGroupName]=r,l}return r}}var it=function(t){t=t.replace(/\r\n?/g,`
`);let e=new C("!xml"),n=e,i="",s="";for(let r=0;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let u=A(t,">",r,"Closing Tag is not closed."),o=t.substring(r+2,u).trim();if(this.options.removeNSPrefix){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(i=this.saveTextToParentTag(i,n,s));let a=s.substring(s.lastIndexOf(".")+1);if(o&&this.options.unpairedTags.indexOf(o)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let f=0;a&&this.options.unpairedTags.indexOf(a)!==-1?(f=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=s.lastIndexOf("."),s=s.substring(0,f),n=this.tagsNodeStack.pop(),i="",r=u}else if(t[r+1]==="?"){let u=R(t,r,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,s),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){let o=new C(u.tagName);o.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(o[":@"]=this.buildAttributesMap(u.tagExp,s,u.tagName)),this.addChild(n,o,s)}r=u.closeIndex+1}else if(t.substr(r+1,3)==="!--"){let u=A(t,"-->",r+4,"Comment is not closed.");if(this.options.commentPropName){let o=t.substring(r+4,u-2);i=this.saveTextToParentTag(i,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}r=u}else if(t.substr(r+1,2)==="!D"){let u=je(t,r);this.docTypeEntities=u.entities,r=u.i}else if(t.substr(r+1,2)==="!["){let u=A(t,"]]>",r,"CDATA is not closed.")-2,o=t.substring(r+9,u);i=this.saveTextToParentTag(i,n,s);let a=this.parseTextData(o,n.tagname,s,!0,!1,!0,!0);a==null&&(a=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):n.add(this.options.textNodeName,a),r=u+2}else{let u=R(t,r,this.options.removeNSPrefix),o=u.tagName,a=u.rawTagName,f=u.tagExp,d=u.attrExpPresent,g=u.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&i&&n.tagname!=="!xml"&&(i=this.saveTextToParentTag(i,n,s,!1));let N=n;if(N&&this.options.unpairedTags.indexOf(N.tagname)!==-1&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),o!==e.tagname&&(s+=s?"."+o:o),this.isItStopNode(this.options.stopNodes,s,o)){let h="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),r=u.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)r=u.closeIndex;else{let y=this.readStopNodeData(t,a,g+1);if(!y)throw new Error(`Unexpected end of ${a}`);r=y.i,h=y.tagContent}let O=new C(o);o!==f&&d&&(O[":@"]=this.buildAttributesMap(f,s,o)),h&&(h=this.parseTextData(h,o,s,!0,d,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),O.add(this.options.textNodeName,h),this.addChild(n,O,s)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),f=o):f=f.substr(0,f.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let h=new C(o);o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),s=s.substr(0,s.lastIndexOf("."))}else{let h=new C(o);this.tagsNodeStack.push(n),o!==f&&d&&(h[":@"]=this.buildAttributesMap(f,s,o)),this.addChild(n,h,s),n=h}i="",r=g}}else i+=t[r];return e.child};function ot(t,e,n){let i=this.options.updateTag(e.tagname,n,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e))}var ut=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){let n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function lt(t,e,n,i){return t&&(i===void 0&&(i=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,n,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,i),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function at(t,e,n){let i="*."+n;for(let s in t){let r=t[s];if(i===r||e===r)return!0}return!1}function ft(t,e,n=">"){let i,s="";for(let r=e;r<t.length;r++){let l=t[r];if(i)l===i&&(i="");else if(l==='"'||l==="'")i=l;else if(l===n[0])if(n[1]){if(t[r+1]===n[1])return{data:s,index:r}}else return{data:s,index:r};else l==="	"&&(l=" ");s+=l}}function A(t,e,n,i){let s=t.indexOf(e,n);if(s===-1)throw new Error(i);return s+e.length-1}function R(t,e,n,i=">"){let s=ft(t,e+1,i);if(!s)return;let r=s.data,l=s.index,u=r.search(/\s/),o=r,a=!0;u!==-1&&(o=r.substring(0,u),r=r.substring(u+1).trimStart());let f=o;if(n){let d=o.indexOf(":");d!==-1&&(o=o.substr(d+1),a=o!==s.data.substr(d+1))}return{tagName:o,tagExp:r,closeIndex:l,attrExpPresent:a,rawTagName:f}}function dt(t,e,n){let i=n,s=1;for(;n<t.length;n++)if(t[n]==="<")if(t[n+1]==="/"){let r=A(t,">",n,`${e} is not closed`);if(t.substring(n+2,r).trim()===e&&(s--,s===0))return{tagContent:t.substring(i,n),i:r};n=r}else if(t[n+1]==="?")n=A(t,"?>",n+1,"StopNode is not closed.");else if(t.substr(n+1,3)==="!--")n=A(t,"-->",n+3,"StopNode is not closed.");else if(t.substr(n+1,2)==="![")n=A(t,"]]>",n,"StopNode is not closed.")-2;else{let r=R(t,n,">");r&&((r&&r.tagName)===e&&r.tagExp[r.tagExp.length-1]!=="/"&&s++,n=r.closeIndex)}}function V(t,e,n){if(e&&typeof t=="string"){let i=t.trim();return i==="true"?!0:i==="false"?!1:De(t,n)}else return oe.isExist(t)?t:""}ue.exports=F});var de=E(fe=>{"use strict";function ct(t,e){return ae(t,e)}function ae(t,e,n){let i,s={};for(let r=0;r<t.length;r++){let l=t[r],u=ht(l),o="";if(n===void 0?o=u:o=n+"."+u,u===e.textNodeName)i===void 0?i=l[u]:i+=""+l[u];else{if(u===void 0)continue;if(l[u]){let a=ae(l[u],e,o),f=pt(a,e);l[":@"]?gt(a,l[":@"],o,e):Object.keys(a).length===1&&a[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?a=a[e.textNodeName]:Object.keys(a).length===0&&(e.alwaysCreateTextNode?a[e.textNodeName]="":a=""),s[u]!==void 0&&s.hasOwnProperty(u)?(Array.isArray(s[u])||(s[u]=[s[u]]),s[u].push(a)):e.isArray(u,o,f)?s[u]=[a]:s[u]=a}}}return typeof i=="string"?i.length>0&&(s[e.textNodeName]=i):i!==void 0&&(s[e.textNodeName]=i),s}function ht(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let i=e[n];if(i!==":@")return i}}function gt(t,e,n,i){if(e){let s=Object.keys(e),r=s.length;for(let l=0;l<r;l++){let u=s[l];i.isArray(u,n+"."+u,!0,!0)?t[u]=[e[u]]:t[u]=e[u]}}}function pt(t,e){let{textNodeName:n}=e,i=Object.keys(t).length;return!!(i===0||i===1&&(t[n]||typeof t[n]=="boolean"||t[n]===0))}fe.prettify=ct});var he=E((Yt,ce)=>{"use strict";var{buildOptions:Nt}=D(),Et=le(),{prettify:Tt}=de(),yt=v(),k=class{constructor(e){this.externalEntities={},this.options=Nt(e)}parse(e,n){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});let r=yt.validate(e,n);if(r!==!0)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}let i=new Et(this.options);i.addExternalEntities(this.externalEntities);let s=i.parseXml(e);return this.options.preserveOrder||s===void 0?s:Tt(s,this.options)}addEntity(e,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=n}};ce.exports=k});var Te=E((Gt,Ee)=>{"use strict";var bt=`
`;function At(t,e){let n="";return e.format&&e.indentBy.length>0&&(n=bt),pe(t,e,"",n)}function pe(t,e,n,i){let s="",r=!1;for(let l=0;l<t.length;l++){let u=t[l],o=mt(u);if(o===void 0)continue;let a="";if(n.length===0?a=o:a=`${n}.${o}`,o===e.textNodeName){let h=u[o];wt(a,e)||(h=e.tagValueProcessor(o,h),h=Ne(h,e)),r&&(s+=i),s+=h,r=!1;continue}else if(o===e.cdataPropName){r&&(s+=i),s+=`<![CDATA[${u[o][0][e.textNodeName]}]]>`,r=!1;continue}else if(o===e.commentPropName){s+=i+`<!--${u[o][0][e.textNodeName]}-->`,r=!0;continue}else if(o[0]==="?"){let h=ge(u[":@"],e),O=o==="?xml"?"":i,y=u[o][0][e.textNodeName];y=y.length!==0?" "+y:"",s+=O+`<${o}${y}${h}?>`,r=!0;continue}let f=i;f!==""&&(f+=e.indentBy);let d=ge(u[":@"],e),g=i+`<${o}${d}`,N=pe(u[o],e,a,f);e.unpairedTags.indexOf(o)!==-1?e.suppressUnpairedNode?s+=g+">":s+=g+"/>":(!N||N.length===0)&&e.suppressEmptyNode?s+=g+"/>":N&&N.endsWith(">")?s+=g+`>${N}${i}</${o}>`:(s+=g+">",N&&i!==""&&(N.includes("/>")||N.includes("</"))?s+=i+e.indentBy+N+i:s+=N,s+=`</${o}>`),r=!0}return s}function mt(t){let e=Object.keys(t);for(let n=0;n<e.length;n++){let i=e[n];if(t.hasOwnProperty(i)&&i!==":@")return i}}function ge(t,e){let n="";if(t&&!e.ignoreAttributes)for(let i in t){if(!t.hasOwnProperty(i))continue;let s=e.attributeValueProcessor(i,t[i]);s=Ne(s,e),s===!0&&e.suppressBooleanAttributes?n+=` ${i.substr(e.attributeNamePrefix.length)}`:n+=` ${i.substr(e.attributeNamePrefix.length)}="${s}"`}return n}function wt(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let n=t.substr(t.lastIndexOf(".")+1);for(let i in e.stopNodes)if(e.stopNodes[i]===t||e.stopNodes[i]==="*."+n)return!0;return!1}function Ne(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){let i=e.entities[n];t=t.replace(i.regex,i.val)}return t}Ee.exports=At});var be=E((Qt,ye)=>{"use strict";var It=Te(),Ot={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function b(t){this.options=Object.assign({},Ot,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Ct),this.processTextOrObjNode=St,this.options.format?(this.indentate=Mt,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}b.prototype.build=function(t){return this.options.preserveOrder?It(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};b.prototype.j2x=function(t,e){let n="",i="";for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s))if(typeof t[s]>"u")this.isAttribute(s)&&(i+="");else if(t[s]===null)this.isAttribute(s)?i+="":s[0]==="?"?i+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)i+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let r=this.isAttribute(s);if(r)n+=this.buildAttrPairStr(r,""+t[s]);else if(s===this.options.textNodeName){let l=this.options.tagValueProcessor(s,""+t[s]);i+=this.replaceEntitiesValue(l)}else i+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let r=t[s].length,l="";for(let u=0;u<r;u++){let o=t[s][u];typeof o>"u"||(o===null?s[0]==="?"?i+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof o=="object"?this.options.oneListGroup?l+=this.j2x(o,e+1).val:l+=this.processTextOrObjNode(o,s,e):l+=this.buildTextValNode(o,s,"",e))}this.options.oneListGroup&&(l=this.buildObjectNode(l,s,"",e)),i+=l}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let r=Object.keys(t[s]),l=r.length;for(let u=0;u<l;u++)n+=this.buildAttrPairStr(r[u],""+t[s][r[u]])}else i+=this.processTextOrObjNode(t[s],s,e);return{attrStr:n,val:i}};b.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function St(t,e,n){let i=this.j2x(t,n+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}b.prototype.buildObjectNode=function(t,e,n,i){if(t==="")return e[0]==="?"?this.indentate(i)+"<"+e+n+"?"+this.tagEndChar:this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,r="";return e[0]==="?"&&(r="?",s=""),(n||n==="")&&t.indexOf("<")===-1?this.indentate(i)+"<"+e+n+r+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&r.length===0?this.indentate(i)+`<!--${t}-->`+this.newLine:this.indentate(i)+"<"+e+n+r+this.tagEndChar+t+this.indentate(i)+s}};b.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};b.prototype.buildTextValNode=function(t,e,n,i){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(i)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(i)+"<"+e+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(i)+"<"+e+n+">"+s+"</"+e+this.tagEndChar}};b.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};function Mt(t){return this.options.indentBy.repeat(t)}function Ct(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}ye.exports=b});var me=E((Zt,Ae)=>{"use strict";var Lt=v(),Pt=he(),xt=be();Ae.exports={XMLParser:Pt,XMLValidator:Lt,XMLBuilder:xt}});var Y="unsure",we=t=>Reflect.has(globalThis,t),S=(t,e)=>we(t)&&(Y=e);S("self","webworker"),S("WorkerGlobalScope","worker"),S("module","node"),S("process","node"),S("window","web");var G=Y;var B=class t{static AS3_XMLModule=this;AS3_XMLModule=t;XMLDocument=U;XMLNode=I;XMLNodeType=x;XMLListClass=m;XMLClass=w;XMLDefaultsClass=P;XMLDefaults=new P;static isXMLName(e){return!!e?.match?.(/^[a-zA-Z0-9_-]+$/)}isXMLName=t.isXMLName;static XML(e){if(e instanceof w)return e;if(e instanceof m&&e.length()!=1)throw new Error("XMLList must contain only one property of type XML");if(typeof e=="boolean"||typeof e=="number")return new w(e.toString());if(typeof e=="string")return new w(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XML=t.XML;static XMLList(e){if(e instanceof m)return e;if(typeof e=="boolean"||typeof e=="number")return new m(e.toString());if(typeof e=="string")return new m(e);throw e===void 0?new TypeError("Undefined"):new TypeError("Invalid argument")}XMLList=t.XMLList},Xt=new B;globalThis?.window&&(globalThis.window.ASXML=Xt);var P=class t{static self=this;self=t;ignoreComments=!0;ignoreProcessingInstructions=!0;ignoreWhitespace=!0;prettyIndent=2;prettyPrinting=!0;defaultSettings(){return new this.self}};var x=class{static ELEMENT_NODE=1;static TEXT_NODE=3;static ENTITY_REFERENCE_NODE=5;static PROCESSING_INSTRUCTION_NODE=7;static DOCUMENT_NODE=9;static DOCUMENT_FRAGMENT_NODE=11},I=class t{attributes={};get childNodes(){return this.#e}#e=this.nodeType==3?void 0:[];get firstChild(){return this.childNodes?.[0]}get lastChild(){return this.childNodes?.[this.childNodes.length-1]||null}get localName(){return this.#s}#s="";withLocalName(e){if(this.#s)throw new Error("Cannot change local name, this is Internal.");return this.#s=e,this}get namespaceURI(){return this.prefix==null?"":this.prefix}get nextSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)+1]||null}get nodeName(){return this.nodeType==1?this.localName:null}get nodeType(){return this.#n}#n=1;get nodeValue(){return this.#n==3?this.#r:null}#r=null;set nodeValue(e){if(this.#n==1)throw new Error("Invalid node type");this.#r=e}get parentNode(){return this.#t}#t=null;get prefix(){return this.nodeName?.split(":")[0]}get previousSibling(){return this.parentNode?.childNodes?.[this.parentNode.childNodes.indexOf(this)-1]}constructor(e,n){this.#n=e,this.#r=n||null}appendChild(e){if(this.nodeType==3)throw new Error("Invalid node type");this.#e==null&&(this.#e=[]),this.#e.push(e);let n=e.#t;n!=this&&(n?.#i(e),e.#t=this)}#i(e){let n=this.#e?.indexOf(e)||-1;n!=-1&&this.#e?.splice(n,1)}cloneNode(e){let n=new t(this.nodeType,this.#r);if(e&&this.#e!=null)for(let i of this.#e)n.appendChild(i.cloneNode(e));return n}getNamespaceForPrefix(e){if(e=="")return this.namespaceURI;let n=this;for(;n!=null;){if(n.prefix==e)return n.namespaceURI;n=n.parentNode}return null}hasChildNodes(){return this.#e!=null}insertBefore(e,n){if(this.nodeType==3)throw new Error("Invalid node type");if(this.#e==null&&(this.#e=[]),n==null)this.appendChild(e);else{if(this.#e.indexOf(n)==-1)throw new Error("Invalid node");this.#e.splice(this.#e.indexOf(n),0,e)}}removeNode(){if(this.#t==null)throw new Error("Invalid node");if(this.#t.#e?.splice(this.#t.#e.indexOf(this),1),this.#t=null,this.#e)for(let e of this.#e)e.removeNode()}toString(){let e="";if(this.nodeType==3)return e+=this.nodeValue;if(e+="<"+this.nodeName,this.nodeType==1&&this.attributes!=null)for(let n of Object.entries(this.attributes))e+=` ${n[0]}="${n[1]}"`;if(this.#e==null)return e+=" />";e+=">";for(let n of this.#e)e+=n.toString();return e+="</"+this.nodeName+">",e}};var U=class extends I{docTypeDecl=null;idMap=new Map;ignoreWhite=!1;xmlDecl=null;constructor(e=null){super(x.DOCUMENT_NODE,e)}createElement(e){return new I(1).withLocalName(e)}createTextNode(e){return new I(3,e)}parseXML(e,n=1,i="UTF-8",s="no",r="data",l){let u=[n,i,s,r,l];G=="node"?this.#e(e,...u):this.#s(e,...u)}#e(e,...n){try{}catch(u){throw new Error(u+"Require is not defined!")}let{XMLParser:i,XMLBuilder:s,XMLValidator:r}=me();return new i().parse(e)}#s(e,...n){let i=this.#n(...n),r=new DOMParser().parseFromString(i+e,"text/xml")}#n(e=1,n="UTF-8",i="no",s="data",r){return`<?xml version="${e}" encoding="${n}" standalone="${i}"?>
<!DOCTYPE ${s} ${r}>`}toString(){return"@ TODO"}},w=class{constructor(...e){}length(){}},m=class{constructor(...e){}length(){}};})();
//# sourceMappingURL=index.global.js.map